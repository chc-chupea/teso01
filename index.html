<!DOCTYPE html>More actions
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ‰‹ç›¸è¨ºæ–­ã‚¢ãƒ—ãƒª</title>
  <title>æ‰‹ç›¸è¨ºæ–­ã‚¢ãƒ—ãƒªï¼ˆiPhoneå¯¾å¿œï¼‰</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #111;
      color: #fff;
      text-align: center;
      padding: 1em;
    }
    video, canvas {
      width: 90%;
      max-width: 400px;
      margin: 1em 0;
      border-radius: 1em;
    }
    select, button {
      font-size: 1.2em;
      margin: 0.5em;
      padding: 0.4em 1em;
      border-radius: 0.5em;
    }
    #result {
      white-space: pre-wrap;
      margin-top: 1em;
    }
  </style>
</head>
<body>
  <h1>ğŸ“· æ‰‹ç›¸è¨ºæ–­ã‚¢ãƒ—ãƒª</h1>
  <video id="camera" autoplay playsinline></video>
  <video id="camera" autoplay playsinline muted></video>
  <canvas id="snapshot" style="display:none;"></canvas>

  <div>
    <select id="genre">
      <option value="all">å…¨éƒ¨è¨ºæ–­</option>
      <option value="love">æ‹æ„›</option>
      <option value="job">ä»•äº‹</option>
      <option value="money">é‡‘é‹</option>
      <option value="health">å¥åº·</option>
      <option value="personality">æ€§æ ¼</option>
    </select>
    <button onclick="analyzePalm()">ğŸ“¸ æ’®å½±ã—ã¦è¨ºæ–­</button>
    <button id="startButton">ğŸ“¸ æ’®å½±ã—ã¦è¨ºæ–­</button>
  </div>
  <p id="result">è¨ºæ–­çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</p>
  <button onclick="savePDF()">ğŸ“„ PDFä¿å­˜</button>
  <button onclick="shareLINE()">ğŸ“² LINEã§å…±æœ‰</button>

  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://docs.opencv.org/4.5.5/opencv.js"></script>
  <script>
    const video = document.getElementById('camera');
    const canvas = document.getElementById('snapshot');
    const resultText = document.getElementById('result');
    const startButton = document.getElementById('startButton');

    async function initCamera() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' }, audio: false });
        video.srcObject = stream;
      } catch (err) {
        alert('ã‚«ãƒ¡ãƒ©ã®ä½¿ç”¨ã‚’è¨±å¯ã—ã¦ãã ã•ã„\nè¨­å®š â†’ Safariã¾ãŸã¯Chrome â†’ ã‚«ãƒ¡ãƒ©ã‚’è¨±å¯\n\nã‚¨ãƒ©ãƒ¼å†…å®¹: ' + err);
      }
    }

    navigator.mediaDevices.getUserMedia({ video: true }).then(stream => {
      video.srcObject = stream;
    });
    startButton.addEventListener('click', analyzePalm);
    window.onload = initCamera;

    async function analyzePalm() {
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      const ctx = canvas.getContext('2d');
      ctx.drawImage(video, 0, 0);

      const imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
      let src = cv.matFromImageData(imgData);
      let gray = new cv.Mat();
      let edges = new cv.Mat();
      cv.cvtColor(src, gray, cv.COLOR_RGBA2GRAY);
      cv.Canny(gray, edges, 50, 150);

      let lineCount = Math.floor(Math.random() * 10 + 10);
      let fingerCount = Math.floor(Math.random() * 2 + 5);
      let genre = document.getElementById('genre').value;
      let evaluation = Math.floor(Math.random() * 20);
      let comment = generateComment(genre, evaluation);

      resultText.innerText = `ğŸ–ï¸ æŒ‡ã®æœ¬æ•°ï¼š${fingerCount}\nâœï¸ ç·šã®æ•°ï¼š${lineCount}\nğŸ“Š è©•ä¾¡ï¼š${evaluation + 1}/20\n\n${comment}`;

      src.delete(); gray.delete(); edges.delete();
    }

    function generateComment(genre, score) {
      const comments = {
        love: Array.from({ length: 20 }, (_, i) => `ğŸ’˜ æ‹æ„›é‹Lv${i + 1}ï¼š${[
          "æ‹ã®ç›´æ„ŸãŒå†´ãˆã‚ãŸã‚‹æ˜Ÿã®ä¸‹â˜†",
          "æ‹ã®é§†ã‘å¼•ãã¯è‹¦æ‰‹ã‹ã‚‚ï¼Ÿ",
          "èª å®Ÿãªæƒ³ã„ãŒå±Šãã‚¿ã‚¤ãƒ—",
          "æ„›æƒ…æ·±ãå°½ãã™ãƒ­ãƒãƒ³æ´¾",
          "ã‚„ã‚„å¥¥æ‰‹ã ã‘ã©æƒ…ç†±çš„",
          "æ‹ã¯è¿½ã†ã‚ˆã‚Šè¿½ã‚ã‚ŒãŸã„æ´¾",
          "å…±æ„ŸåŠ›ã§æ‹æ„›æˆåŠŸç‡UP",
          "å°‘ã—æµ®æ°—å¿ƒãŒå‡ºã¡ã‚ƒã†ã‹ã‚‚ï¼Ÿ",
          "ã‚¿ã‚¤ãƒŸãƒ³ã‚°æ¬¡ç¬¬ã§ãƒ¢ãƒ†æœŸåˆ°æ¥",
          "æ°—æŒã¡ã®åˆ‡ã‚Šæ›¿ãˆãŒä¸Šæ‰‹",
          "æ‹äººã«å°½ãã—ã™ãæ³¨æ„ï¼ï¼Ÿ",
          "æ‹æ„›ã‚ˆã‚Šå‹æƒ…ã‚’é‡è¦–ã‚¿ã‚¤ãƒ—",
          "ã‚„ã•ã—ã•ã§åŒ…ã¿è¾¼ã‚€æ„›ã®äºº",
          "æ‹æ„›é‹ã¯å®‰å®šã—ã¦ã¾ã™â—",
          "ã¡ã‚‡ã£ã¨ãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹ãªé­…åŠ›",
          "ç¬‘é¡”ã§å¥½å°è±¡ã€ãƒ¢ãƒ†ç´ è³ªã‚ã‚Š",
          "ä»˜ãåˆã†ã¨é•·ç¶šãã™ã‚‹ã‚¿ã‚¤ãƒ—",
          "æ‹ã«å¥¥æ‰‹ã§ã‚‚èŠ¯ã¯ãƒ–ãƒ¬ãªã„",
          "æ˜ ç”»ã®ã‚ˆã†ãªæ‹ã«æ†§ã‚Œã‚‹æ´¾",
          "æ‹ã®ãƒãƒ£ãƒ³ã‚¹ã¯æ¡ˆå¤–ã™ããã“â™ª"
        ][i]}`),

        job: Array.from({ length: 20 }, (_, i) => `ğŸ’¼ ä»•äº‹é‹Lv${i + 1}ï¼š${[
          "å …å®Ÿã§ä¿¡é ¼ã•ã‚Œã‚‹å®ŸåŠ›æ´¾",
          "ä¸€ç™ºé€†è»¢å‹ã®ã²ã‚‰ã‚ãã‚ã‚Š",
          "ä¸å¯§ã§æ…é‡ãªå–ã‚Šçµ„ã¿",
          "ãƒãƒ¼ãƒ ã«æ¬ ã‹ã›ãªã„å­˜åœ¨",
          "æ°—é…ã‚Šã§ãã‚‹ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼",
          "ç‹¬ç«‹å¿ƒæ—ºç››ãªãƒªãƒ¼ãƒ€ãƒ¼æ°—è³ª",
          "æŒ‘æˆ¦ã‚’æã‚Œãªã„ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼",
          "å™¨ç”¨è²§ä¹ã«ãªã‚ŠãŒã¡æ³¨æ„",
          "åœ°å‘³ã«çµæœã‚’å‡ºã™ã‚¿ã‚¤ãƒ—",
          "ãƒ”ãƒ³ãƒã‚’ãƒãƒ£ãƒ³ã‚¹ã«å¤‰ãˆã‚‹åŠ›",
          "ã“ã ã‚ã‚Šå¼·ã‚ã®è·äººæ°—è³ª",
          "ç™ºæƒ³è±Šã‹ã§å‰µé€ æ€§é«˜ã‚",
          "ãƒãƒ«ãƒã‚¿ã‚¹ã‚¯ã«å‘ã„ã¦ã‚‹",
          "èª¿æ•´å½¹ã«æœ€é©ãªãƒãƒ©ãƒ³ã‚µãƒ¼",
          "ç„¡é§„ã‚’å«Œã†åŠ¹ç‡é‡è¦–æ´¾",
          "äººé–“é–¢ä¿‚ã§å°‘ã—ç–²ã‚Œã‚„ã™ã„ã‹ã‚‚",
          "å‡ºä¸–ã‚³ãƒ¼ã‚¹ã«ä¹—ã‚Šã‚„ã™ã„",
          "è²¬ä»»æ„Ÿãƒãƒƒãƒãƒªãªä¿¡é ¼ã®æ˜Ÿ",
          "æ°—åˆ†å±‹ã ã‘ã©çˆ†ç™ºåŠ›ã‚ã‚Š",
          "è·å ´ã®ç™’ã—ç³»å­˜åœ¨â™ª"
        ][i]}`),

        money: Array.from({ length: 20 }, (_, i) => `ğŸ’° é‡‘é‹Lv${i + 1}ï¼š${[
          "ãŠé‡‘ã¨ã®ç¸ãŒæ¿ƒã„ã‚¿ã‚¤ãƒ—",
          "å‡ºè²»ãŒå¤šãã¦ã‚‚å›ååŠ›ã‚ã‚Š",
          "è²¡å¸ƒã«å„ªã—ã„ç”Ÿæ´»ãŒå¾—æ„",
          "è²¯é‡‘ãŒã‚³ãƒ„ã‚³ãƒ„ã§ãã‚‹",
          "é‡‘é‹ã‚¢ãƒƒãƒ—ã®æ³¢ã«ä¹—ã£ã¦ã‚‹",
          "æŠ•è³‡ã‚»ãƒ³ã‚¹å…‰ã‚‹ã‹ã‚‚ï¼ï¼Ÿ",
          "é‡‘éŠ­æ„Ÿè¦šãŒã—ã£ã‹ã‚Šã—ã¦ã‚‹",
          "ã‚®ãƒ£ãƒ³ãƒ–ãƒ«é‹ã¯æ³¢ã‚ã‚Š",
          "ç„¡é§„é£ã„ã«æ³¨æ„ã®ã‚µã‚¤ãƒ³",
          "æ€¥ãªè‡¨æ™‚åå…¥ãŒæœŸå¾…ã§ãã‚‹",
          "å‰¯æ¥­ã«å‘ã„ã¦ã„ã‚‹ã‚¿ã‚¤ãƒ—",
          "ãŠé‡‘ã§äººã‚’åŠ©ã‘ã‚‹å™¨ã‚ã‚Š",
          "ã‚»ãƒ¼ãƒ«ã‚’è¦‹é€ƒã•ãªã„é”äºº",
          "ç¯€ç´„è¡“ãŒå¾—æ„ãªç”Ÿæ´»æ´¾",
          "æµªè²»ç™–ã«ã¡ã‚‡ã£ã¨æ³¨æ„",
          "ãŠé‡‘ã¯ã‚ã¨ã‹ã‚‰ã¤ã„ã¦ãã‚‹",
          "å¤§é‡‘ã‚ˆã‚Šã‚‚å®‰å®šå¿—å‘",
          "äººã‹ã‚‰ã®æ´åŠ©ã«æµã¾ã‚Œã‚‹",
          "å …å®Ÿã•ãŒå°†æ¥ã®éµ",
          "å®Ÿã¯ç‰ã®è¼¿é‹ï¼ï¼Ÿ"
        ][i]}`),

        health: Array.from({ length: 20 }, (_, i) => `ğŸ¥ å¥åº·é‹Lv${i + 1}ï¼š${[
          "ä½“åŠ›ãƒãƒƒãƒãƒªå…ƒæ°—ãƒãƒ„ãƒ©ãƒ„ï¼",
          "ã¡ã‚‡ã£ã¨ç„¡ç†ã—ãŒã¡ãªå‚¾å‘",
          "ã‚ˆãå¯ã‚‹ã¨é‹æ°—ã‚¢ãƒƒãƒ—",
          "å¥åº·å¿—å‘ãªç”Ÿæ´»ã‚¹ã‚¿ã‚¤ãƒ«",
          "ã‚¹ãƒˆãƒ¬ã‚¹ç™ºæ•£ãŒä¸Šæ‰‹",
          "é‹å‹•ä¸è¶³ã«ãªã‚Šã‚„ã™ã„ã‹ã‚‚",
          "é£Ÿç”Ÿæ´»ã‚’è¦‹ç›´ã™ã¨â—",
          "è‡ªå¾‹ç¥çµŒã«æ³¨æ„ã—ã¦ã­",
          "é¢¨é‚ªã«è² ã‘ãªã„å¼·ã•ã‚ã‚Š",
          "è‡ªç„¶ã®ä¸­ã§ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥æ¨å¥¨",
          "å­£ç¯€ã®å¤‰ã‚ã‚Šç›®ã«æ³¨æ„",
          "è‚Œãƒˆãƒ©ãƒ–ãƒ«ã¯æ°´åˆ†è£œçµ¦ã§å›é¿",
          "å†…è‡“ã«å„ªã—ã„é£Ÿäº‹ã‚’",
          "ä¸æ‘‚ç”Ÿã¯æºœã‚è¾¼ã¾ãªã„ã§",
          "æ­¯ã‚„ç›®ã®ã‚±ã‚¢ã‚’å¿˜ã‚Œãšã«",
          "å†·ãˆå¯¾ç­–ãŒå‰",
          "ç„¡ç†ã›ãšä¼‘ã‚€ã“ã¨ã‚‚å¤§äº‹",
          "ä¸èª¿ã‚µã‚¤ãƒ³ã«æ•æ„Ÿã§ã‚ã‚Œ",
          "å¥åº·é‹ã¯ã“ã‚Œã‹ã‚‰å³è‚©ä¸ŠãŒã‚Š",
          "ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°ãŒé–‹é‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³"
        ][i]}`),

        personality: Array.from({ length: 20 }, (_, i) => `ğŸ§  æ€§æ ¼è¨ºæ–­Lv${i + 1}ï¼š${[
          "äººå½“ãŸã‚Šã®è‰¯ã„å„ªã—ã•No.1",
          "ã¡ã‚‡ã£ã¨é ‘å›ºã ã‘ã©ä¿¡å¿µå¼·ã„",
          "ç©ºæ°—ã‚’èª­ã‚€ã®ãŒå¾—æ„",
          "ç´°ã‹ã„ã“ã¨ã«æ°—ã¥ãå¤©æ‰",
          "ä¸€äººã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã™ã‚‹",
          "èãä¸Šæ‰‹ã§é ¼ã‚‰ã‚Œã‚‹ã‚¿ã‚¤ãƒ—",
          "èŠ¯ãŒå¼·ãã¦ãƒ–ãƒ¬ãªã„æ€§æ ¼",
          "è‡ªç”±äººã ã‘ã©é­…åŠ›çš„",
          "ãµã‚ã£ã¨ã—ã¦ã¦ç™’ã—ç³»",
          "ç†±ã—ã‚„ã™ãå†·ã‚ã‚„ã™ã„ä¸€é¢ã‚‚",
          "è² ã‘ãšå«Œã„ãªåŠªåŠ›å®¶",
          "æ„Ÿå—æ€§è±Šã‹ã§ãƒ­ãƒãƒ³ãƒã‚¹ãƒˆ",
          "ãƒãƒ©ãƒ³ã‚¹æ„Ÿè¦šãŒç§€é€¸",
          "è©±ã—æ–¹ã«ãƒ¦ãƒ¼ãƒ¢ã‚¢ã‚ã‚Š",
          "ã„ã¤ã‚‚ãƒ‹ã‚³ãƒ‹ã‚³å¹³å’Œä¸»ç¾©",
          "ç›®æ¨™é”æˆå‹ã‚¹ãƒˆã‚¤ãƒƒã‚¯æ´¾",
          "è‡¨æ©Ÿå¿œå¤‰ãªæŸ”è»Ÿæ´¾",
          "ã¨ãã«æ¯’èˆŒãªãƒ„ãƒƒã‚³ãƒŸæ‹…å½“",
          "æ°—é…ã‚Šä¸Šæ‰‹ã§è£ãƒœã‚¹æ„Ÿã‚ã‚Š",
          "å ´ã‚’æ˜ã‚‹ãã™ã‚‹å¤ªé™½ã¿ãŸã„ãªäºº"
        ][i]}`)
        love: [...Array(20)].map((_, i) => `ğŸ’˜ æ‹æ„›é‹Lv${i+1}ï¼š${["æ‹ã®ç›´æ„ŸãŒå†´ãˆã‚ãŸã‚‹æ˜Ÿã®ä¸‹â˜†","æ‹ã®é§†ã‘å¼•ãã¯è‹¦æ‰‹ã‹ã‚‚ï¼Ÿ","èª å®Ÿãªæƒ³ã„ãŒå±Šãã‚¿ã‚¤ãƒ—","æ„›æƒ…æ·±ãå°½ãã™ãƒ­ãƒãƒ³æ´¾","ã‚„ã‚„å¥¥æ‰‹ã ã‘ã©æƒ…ç†±çš„","æ‹ã¯è¿½ã†ã‚ˆã‚Šè¿½ã‚ã‚ŒãŸã„æ´¾","å…±æ„ŸåŠ›ã§æ‹æ„›æˆåŠŸç‡UP","å°‘ã—æµ®æ°—å¿ƒãŒå‡ºã¡ã‚ƒã†ã‹ã‚‚ï¼Ÿ","ã‚¿ã‚¤ãƒŸãƒ³ã‚°æ¬¡ç¬¬ã§ãƒ¢ãƒ†æœŸåˆ°æ¥","æ°—æŒã¡ã®åˆ‡ã‚Šæ›¿ãˆãŒä¸Šæ‰‹","æ‹äººã«å°½ãã—ã™ãæ³¨æ„ï¼ï¼Ÿ","æ‹æ„›ã‚ˆã‚Šå‹æƒ…ã‚’é‡è¦–ã‚¿ã‚¤ãƒ—","ã‚„ã•ã—ã•ã§åŒ…ã¿è¾¼ã‚€æ„›ã®äºº","æ‹æ„›é‹ã¯å®‰å®šã—ã¦ã¾ã™â—","ã¡ã‚‡ã£ã¨ãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹ãªé­…åŠ›","ç¬‘é¡”ã§å¥½å°è±¡ã€ãƒ¢ãƒ†ç´ è³ªã‚ã‚Š","ä»˜ãåˆã†ã¨é•·ç¶šãã™ã‚‹ã‚¿ã‚¤ãƒ—","æ‹ã«å¥¥æ‰‹ã§ã‚‚èŠ¯ã¯ãƒ–ãƒ¬ãªã„","æ˜ ç”»ã®ã‚ˆã†ãªæ‹ã«æ†§ã‚Œã‚‹æ´¾","æ‹ã®ãƒãƒ£ãƒ³ã‚¹ã¯æ¡ˆå¤–ã™ããã“â™ª"][i]}`),
        job: [...Array(20)].map((_, i) => `ğŸ’¼ ä»•äº‹é‹Lv${i+1}ï¼š${["å …å®Ÿã§ä¿¡é ¼ã•ã‚Œã‚‹å®ŸåŠ›æ´¾","ä¸€ç™ºé€†è»¢å‹ã®ã²ã‚‰ã‚ãã‚ã‚Š","ä¸å¯§ã§æ…é‡ãªå–ã‚Šçµ„ã¿","ãƒãƒ¼ãƒ ã«æ¬ ã‹ã›ãªã„å­˜åœ¨","æ°—é…ã‚Šã§ãã‚‹ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼","ç‹¬ç«‹å¿ƒæ—ºç››ãªãƒªãƒ¼ãƒ€ãƒ¼æ°—è³ª","æŒ‘æˆ¦ã‚’æã‚Œãªã„ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼","å™¨ç”¨è²§ä¹ã«ãªã‚ŠãŒã¡æ³¨æ„","åœ°å‘³ã«çµæœã‚’å‡ºã™ã‚¿ã‚¤ãƒ—","ãƒ”ãƒ³ãƒã‚’ãƒãƒ£ãƒ³ã‚¹ã«å¤‰ãˆã‚‹åŠ›","ã“ã ã‚ã‚Šå¼·ã‚ã®è·äººæ°—è³ª","ç™ºæƒ³è±Šã‹ã§å‰µé€ æ€§é«˜ã‚","ãƒãƒ«ãƒã‚¿ã‚¹ã‚¯ã«å‘ã„ã¦ã‚‹","èª¿æ•´å½¹ã«æœ€é©ãªãƒãƒ©ãƒ³ã‚µãƒ¼","ç„¡é§„ã‚’å«Œã†åŠ¹ç‡é‡è¦–æ´¾","äººé–“é–¢ä¿‚ã§å°‘ã—ç–²ã‚Œã‚„ã™ã„ã‹ã‚‚","å‡ºä¸–ã‚³ãƒ¼ã‚¹ã«ä¹—ã‚Šã‚„ã™ã„","è²¬ä»»æ„Ÿãƒãƒƒãƒãƒªãªä¿¡é ¼ã®æ˜Ÿ","æ°—åˆ†å±‹ã ã‘ã©çˆ†ç™ºåŠ›ã‚ã‚Š","è·å ´ã®ç™’ã—ç³»å­˜åœ¨â™ª"][i]}`),
        money: [...Array(20)].map((_, i) => `ğŸ’° é‡‘é‹Lv${i+1}ï¼š${["ãŠé‡‘ã¨ã®ç¸ãŒæ¿ƒã„ã‚¿ã‚¤ãƒ—","å‡ºè²»ãŒå¤šãã¦ã‚‚å›ååŠ›ã‚ã‚Š","è²¡å¸ƒã«å„ªã—ã„ç”Ÿæ´»ãŒå¾—æ„","è²¯é‡‘ãŒã‚³ãƒ„ã‚³ãƒ„ã§ãã‚‹","é‡‘é‹ã‚¢ãƒƒãƒ—ã®æ³¢ã«ä¹—ã£ã¦ã‚‹","æŠ•è³‡ã‚»ãƒ³ã‚¹å…‰ã‚‹ã‹ã‚‚ï¼ï¼Ÿ","é‡‘éŠ­æ„Ÿè¦šãŒã—ã£ã‹ã‚Šã—ã¦ã‚‹","ã‚®ãƒ£ãƒ³ãƒ–ãƒ«é‹ã¯æ³¢ã‚ã‚Š","ç„¡é§„é£ã„ã«æ³¨æ„ã®ã‚µã‚¤ãƒ³","æ€¥ãªè‡¨æ™‚åå…¥ãŒæœŸå¾…ã§ãã‚‹","å‰¯æ¥­ã«å‘ã„ã¦ã„ã‚‹ã‚¿ã‚¤ãƒ—","ãŠé‡‘ã§äººã‚’åŠ©ã‘ã‚‹å™¨ã‚ã‚Š","ã‚»ãƒ¼ãƒ«ã‚’è¦‹é€ƒã•ãªã„é”äºº","ç¯€ç´„è¡“ãŒå¾—æ„ãªç”Ÿæ´»æ´¾","æµªè²»ç™–ã«ã¡ã‚‡ã£ã¨æ³¨æ„","ãŠé‡‘ã¯ã‚ã¨ã‹ã‚‰ã¤ã„ã¦ãã‚‹","å¤§é‡‘ã‚ˆã‚Šã‚‚å®‰å®šå¿—å‘","äººã‹ã‚‰ã®æ´åŠ©ã«æµã¾ã‚Œã‚‹","å …å®Ÿã•ãŒå°†æ¥ã®éµ","å®Ÿã¯ç‰ã®è¼¿é‹ï¼ï¼Ÿ"][i]}`),
        health: [...Array(20)].map((_, i) => `ğŸ¥ å¥åº·é‹Lv${i+1}ï¼š${["ä½“åŠ›ãƒãƒƒãƒãƒªå…ƒæ°—ãƒãƒ„ãƒ©ãƒ„ï¼","ã¡ã‚‡ã£ã¨ç„¡ç†ã—ãŒã¡ãªå‚¾å‘","ã‚ˆãå¯ã‚‹ã¨é‹æ°—ã‚¢ãƒƒãƒ—","å¥åº·å¿—å‘ãªç”Ÿæ´»ã‚¹ã‚¿ã‚¤ãƒ«","ã‚¹ãƒˆãƒ¬ã‚¹ç™ºæ•£ãŒä¸Šæ‰‹","é‹å‹•ä¸è¶³ã«ãªã‚Šã‚„ã™ã„ã‹ã‚‚","é£Ÿç”Ÿæ´»ã‚’è¦‹ç›´ã™ã¨â—","è‡ªå¾‹ç¥çµŒã«æ³¨æ„ã—ã¦ã­","é¢¨é‚ªã«è² ã‘ãªã„å¼·ã•ã‚ã‚Š","è‡ªç„¶ã®ä¸­ã§ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥æ¨å¥¨","å­£ç¯€ã®å¤‰ã‚ã‚Šç›®ã«æ³¨æ„","è‚Œãƒˆãƒ©ãƒ–ãƒ«ã¯æ°´åˆ†è£œçµ¦ã§å›é¿","å†…è‡“ã«å„ªã—ã„é£Ÿäº‹ã‚’","ä¸æ‘‚ç”Ÿã¯æºœã‚è¾¼ã¾ãªã„ã§","æ­¯ã‚„ç›®ã®ã‚±ã‚¢ã‚’å¿˜ã‚Œãšã«","å†·ãˆå¯¾ç­–ãŒå‰","ç„¡ç†ã›ãšä¼‘ã‚€ã“ã¨ã‚‚å¤§äº‹","ä¸èª¿ã‚µã‚¤ãƒ³ã«æ•æ„Ÿã§ã‚ã‚Œ","å¥åº·é‹ã¯ã“ã‚Œã‹ã‚‰å³è‚©ä¸ŠãŒã‚Š","ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°ãŒé–‹é‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³"][i]}`),
        personality: [...Array(20)].map((_, i) => `ğŸ§  æ€§æ ¼è¨ºæ–­Lv${i+1}ï¼š${["äººå½“ãŸã‚Šã®è‰¯ã„å„ªã—ã•No.1","ã¡ã‚‡ã£ã¨é ‘å›ºã ã‘ã©ä¿¡å¿µå¼·ã„","ç©ºæ°—ã‚’èª­ã‚€ã®ãŒå¾—æ„","ç´°ã‹ã„ã“ã¨ã«æ°—ã¥ãå¤©æ‰","ä¸€äººã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã™ã‚‹","èãä¸Šæ‰‹ã§é ¼ã‚‰ã‚Œã‚‹ã‚¿ã‚¤ãƒ—","èŠ¯ãŒå¼·ãã¦ãƒ–ãƒ¬ãªã„æ€§æ ¼","è‡ªç”±äººã ã‘ã©é­…åŠ›çš„","ãµã‚ã£ã¨ã—ã¦ã¦ç™’ã—ç³»","ç†±ã—ã‚„ã™ãå†·ã‚ã‚„ã™ã„ä¸€é¢ã‚‚","è² ã‘ãšå«Œã„ãªåŠªåŠ›å®¶","æ„Ÿå—æ€§è±Šã‹ã§ãƒ­ãƒãƒ³ãƒã‚¹ãƒˆ","ãƒãƒ©ãƒ³ã‚¹æ„Ÿè¦šãŒç§€é€¸","è©±ã—æ–¹ã«ãƒ¦ãƒ¼ãƒ¢ã‚¢ã‚ã‚Š","ã„ã¤ã‚‚ãƒ‹ã‚³ãƒ‹ã‚³å¹³å’Œä¸»ç¾©","ç›®æ¨™é”æˆå‹ã‚¹ãƒˆã‚¤ãƒƒã‚¯æ´¾","è‡¨æ©Ÿå¿œå¤‰ãªæŸ”è»Ÿæ´¾","ã¨ãã«æ¯’èˆŒãªãƒ„ãƒƒã‚³ãƒŸæ‹…å½“","æ°—é…ã‚Šä¸Šæ‰‹ã§è£ãƒœã‚¹æ„Ÿã‚ã‚Š","å ´ã‚’æ˜ã‚‹ãã™ã‚‹å¤ªé™½ã¿ãŸã„ãªäºº"][i]}`)
      };

      if (genre === 'all') {
        return Object.keys(comments).map(key => comments[key][score]).join('\n');
      } else {
        return comments[genre][score];
      }
    }

    async function savePDF() {
      const {{ jsPDF }} = window.jspdf;
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      doc.setFontSize(14);
      doc.text("æ‰‹ç›¸è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆ", 10, 10);
      doc.text(resultText.innerText, 10, 20);
      doc.save("palm_result.pdf");
    }

    function shareLINE() {
      const msg = encodeURIComponent("\nã€æ‰‹ç›¸è¨ºæ–­çµæœã€‘\n" + resultText.innerText);
      const url = `https://line.me/R/msg/text/?${msg}`;
      window.open(url);
    }
  </script>
</body>
</html>
